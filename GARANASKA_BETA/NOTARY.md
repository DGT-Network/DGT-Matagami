Notary description
Нотариус включает в свой состав VAULT для хранения секретов и сервис шлюз для взаимодействия с телеграмм и сетью DGT.
При инициализации нотариуса инициализируем экземпляр VAULT и сохраняем ключи для распечатывания хранилища секретов
и root токен в конфиге в домашнем каталоге файл /project/peer/etc/.vconf в формате json. 
Далее генерируем новый токен для доступа только на чтение  ,для последующей передаче процессору сертификатов .
Нотариус также должен входить в список статических узлов хотя и не является стандартным узлом DGT.
 Мы храним список ключей нотариусов ,чтобы ограничить возможность модификации сертификатов только для узлов нотариусов.
Процессор сертификатов — разрешает операции создания сертификатов только клиентам с ключами из списка нотариусов .
При запуске нотариуса он получает адрес шлюза DGT как параметр или через гугл диск.
Далее после инициализации он должен передать сети DGT токен на доступ к хранилищу секретов .
Для этого выполняется транзакция по присоединению нотариуса к сети DGT . В ходе которой,
в топологии формируется запись о активизации нотариуса. Кроме того нотариус получает информацию о других нотариусах
для организации сети нотариусов. И входит в кольцо нотариусов средствами VAULT. 
Процессор транзакций получает информацию о активных нотариусах из топологии и может работать с одним из доступных в его сегменте сети.
Шлюз в телеграмм создает и подписывает сертификаты используя ключ нотариуса который имеется в топологии сети DGT. 
Это позволяет контролировать в процессоре сертификатов допустимость такой операции. 
Данные приходят от телеграмм бота и ключ KVC это уникальный DID идентификатор. 
DID включае в себя идентификатор пользователя в телеграмм плюс часть ключа нотариуса и префикс did .
В сертификат включается набор атрибутов которые ввел пользователь общаясь с ботом в ходе диалога на естественном языке.
Сертификат хранится в VAULT и проверить его наличие и валидность можно обратившись к нотариусу используя KVC.
Кроме того используя KVC можно получить права доступа для владельца этого KVC 
Более детально вариант с RAFT консенсусом и несколькими нотариусами работает сформулированным ниже способом.
В этой схеме различаем несколько типов узлов: 
• Узел держатель печати . Его роль хранить ключ для распечатывания всех остальных экземпляров VAULT входящих в кластер.
Сам узел держатель ключа в кластер не входит его задача транзит ключа для распечатывания узлов кластера с RAFT консенсусом.
Когда узел стартует он сохраняет ТОКЕН для доступа к механизму транзита ключа в сети DGT . Узел держателя ключа запускается в доверенной части сети.

• Узел ЛИДЕР входящий в кластер RAFT . Для выполнения транзита при старте узла мы должны получить токен из DGT сети и собственно адрес держателя ключа.
  Токен должен возвращаться только узлу с ключем из списка нотариуса . Лидер распечатывает свое хранилище и инициализирует сеть.
 Кроме того ЛИДЕР позволяет на начальном этапе войти в сеть нотариусов. Для этого мы после старта узла ЛИДЕР сохраняем 
 адрес лидера в сети DGT и токен, который создает лидер при инициализации. Этот токен разделяет вся сеть нотариусов.
  Для остальных нотариусов ЛИДЕР это  шлюз в сеть нотариусов. Именно через него можно войти в VAULT сеть.

•  Узел ПОСЛЕДОВАТЕЛЬ участник кластера RAFT. Это все  последующие узлы входящие в сеть кроме лидера.
Для старта нуждаются в токене для распечатывания хранилища ,адресе узла ЛИДЕР для вхождения в сеть нотариусов 
и токене для доступа к секретам. Эти данные получаются из DGT сети и доступны только нотариусам с ключами из кольца нотариусов .
 Только после успешного распечатывания и вхождения в кластер узел может работать с секретами .

Все виды узлов нуждаются в распечатывании хранилища, чтобы с ним можно было работать.
Для этого при старте мы используем токен узла держателя ключа из DGT что позволяет задействовать механизм транзита ключа - встроенная возможность VAULT.
Собственно сам ключ знает только узел держатель ключа, который развернут в доверенной сети и не работает непосредственно с пользователями.  

 Таким образом в сети DGT храниться следущая информация :
 1) Токен для распечатывания узлов VAULT
 2) Адрес узла хранителя печати
 3) Токен лидера для работы с секретами 
 4) Адрес лидера для подключения узлов в сеть нотариусов.



